"""
Core logic ported from FastAPI backend.
"""
